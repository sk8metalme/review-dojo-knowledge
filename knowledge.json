{
  "knowledge_items": [
    {
      "category": "design",
      "language": "bash",
      "severity": "warning",
      "title": "jqマージ演算子の順序に注意",
      "summary": "jqの`*`演算子を使用したマージで、引数の順序によって上書き優先順位が決まる。`.[0] * .[1]`では右辺（.[1]）が左辺（.[0]）を上書きする。",
      "recommendation": "ユーザーのカスタマイズを保持したい場合は、テンプレートを先（.[0]）、ユーザー設定を後（.[1]）に配置する。つまり`jq -s '.[0] * .[1]' \"$template\" \"$settings\"`とすることで、既存のユーザー設定が優先される。",
      "code_example": {
        "bad": "jq -s '.[0] * .[1]' \"$settings\" \"$template\"",
        "good": "jq -s '.[0] * .[1]' \"$template\" \"$settings\""
      },
      "file_path": "install-global.sh",
      "pr_url": "https://github.com/sk8metalme/ai-agent-setup/pull/48",
      "original_comment": "現在のマージ順序 `jq -s '.[0] * .[1]' \"$settings\" \"$template\"` では、テンプレートの値が既存の settings.json を**上書き**します（jq の `*` 演算子は右辺の値を優先）。\n\nユーザーのカスタマイズを保持したい場合は、順序を逆にする必要があります"
    }
  ],
  "skipped_comments": [],
  "metadata": {
    "pr_url": "https://github.com/sk8metalme/ai-agent-setup/pull/48",
    "pr_number": "48",
    "repository": "sk8metalme/ai-agent-setup",
    "extraction_date": "2026-01-10",
    "total_review_threads": 1,
    "resolved_threads": 1,
    "extracted_knowledge_count": 1,
    "skipped_comments_count": 0
  }
}
